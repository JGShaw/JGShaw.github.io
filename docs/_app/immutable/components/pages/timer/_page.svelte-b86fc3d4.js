import{S as tt,i as et,s as lt,k as b,a as F,q as D,l as p,m as T,c as B,r as w,h as i,n as y,b as I,G as n,I as Y,B as Z,J as st,K as rt,H as at,M as ot,p as R,u as J}from"../../../chunks/index-e7c45b38.js";import{m as S,l as P}from"../../../chunks/time-099e02ff.js";function N(a,t,s){const r=a.slice();return r[3]=t[s],r[6]=s,r}function $(a){let t,s,r;return{c(){t=b("tr"),s=b("td"),r=D("Timing in progress"),this.h()},l(d){t=p(d,"TR",{});var l=T(t);s=p(l,"TD",{colspan:!0,class:!0});var c=T(s);r=w(c,"Timing in progress"),c.forEach(i),l.forEach(i),this.h()},h(){y(s,"colspan","5"),y(s,"class","svelte-1b0trvz")},m(d,l){I(d,t,l),n(t,s),n(s,r)},d(d){d&&i(t)}}}function nt(a){let t,s=S(a[3].half-a[2].at(a[6]-1).end)+"",r,d,l,c=S(a[3].end-a[2].at(a[6]-1).end)+"",u;return{c(){t=b("td"),r=D(s),d=F(),l=b("td"),u=D(c),this.h()},l(e){t=p(e,"TD",{style:!0,class:!0});var o=T(t);r=w(o,s),o.forEach(i),d=B(e),l=p(e,"TD",{style:!0,class:!0});var v=T(l);u=w(v,c),v.forEach(i),this.h()},h(){R(t,"width","20%"),y(t,"class","svelte-1b0trvz"),R(l,"width","20%"),R(l,"background",a[3].color),y(l,"class","svelte-1b0trvz")},m(e,o){I(e,t,o),n(t,r),I(e,d,o),I(e,l,o),n(l,u)},p(e,o){o&4&&s!==(s=S(e[3].half-e[2].at(e[6]-1).end)+"")&&J(r,s),o&4&&c!==(c=S(e[3].end-e[2].at(e[6]-1).end)+"")&&J(u,c),o&4&&R(l,"background",e[3].color)},d(e){e&&i(t),e&&i(d),e&&i(l)}}}function ct(a){let t,s=S(a[3].half-a[3].start)+"",r,d,l,c=S(a[3].end-a[3].start)+"",u;return{c(){t=b("td"),r=D(s),d=F(),l=b("td"),u=D(c),this.h()},l(e){t=p(e,"TD",{style:!0,class:!0});var o=T(t);r=w(o,s),o.forEach(i),d=B(e),l=p(e,"TD",{style:!0,class:!0});var v=T(l);u=w(v,c),v.forEach(i),this.h()},h(){R(t,"width","20%"),y(t,"class","svelte-1b0trvz"),R(l,"width","20%"),R(l,"background",a[3].color),y(l,"class","svelte-1b0trvz")},m(e,o){I(e,t,o),n(t,r),I(e,d,o),I(e,l,o),n(l,u)},p(e,o){o&4&&s!==(s=S(e[3].half-e[3].start)+"")&&J(r,s),o&4&&c!==(c=S(e[3].end-e[3].start)+"")&&J(u,c),o&4&&R(l,"background",e[3].color)},d(e){e&&i(t),e&&i(d),e&&i(l)}}}function x(a){let t,s,r=a[6]+1+"",d,l,c,u=(a[3].target/1e3).toFixed(1)+"",e,o,v,E,z=S(a[3].end-a[2].at(0).start)+"",C,G;function K(g,h){return g[6]==0?ct:nt}let q=K(a)(a);return{c(){t=b("tr"),s=b("td"),d=D(r),l=F(),c=b("td"),e=D(u),o=F(),q.c(),v=F(),E=b("td"),C=D(z),G=F(),this.h()},l(g){t=p(g,"TR",{});var h=T(t);s=p(h,"TD",{style:!0,class:!0});var M=T(s);d=w(M,r),M.forEach(i),l=B(h),c=p(h,"TD",{style:!0,class:!0});var m=T(c);e=w(m,u),m.forEach(i),o=B(h),q.l(h),v=B(h),E=p(h,"TD",{style:!0,class:!0});var A=T(E);C=w(A,z),A.forEach(i),G=B(h),h.forEach(i),this.h()},h(){R(s,"width","20%"),y(s,"class","svelte-1b0trvz"),R(c,"width","20%"),y(c,"class","svelte-1b0trvz"),R(E,"width","20%"),y(E,"class","svelte-1b0trvz")},m(g,h){I(g,t,h),n(t,s),n(s,d),n(t,l),n(t,c),n(c,e),n(t,o),q.m(t,null),n(t,v),n(t,E),n(E,C),n(t,G)},p(g,h){h&4&&u!==(u=(g[3].target/1e3).toFixed(1)+"")&&J(e,u),q.p(g,h),h&4&&z!==(z=S(g[3].end-g[2].at(0).start)+"")&&J(C,z)},d(g){g&&i(t),q.d()}}}function dt(a){let t,s,r,d,l,c,u,e,o,v,E,z,C,G,K,L,q,g,h,M,m=a[0]>0&&!a[1]&&$(),A=a[2],k=[];for(let _=0;_<A.length;_+=1)k[_]=x(N(a,A,_));return{c(){t=b("table"),m&&m.c(),s=F(),r=b("tr"),d=b("td"),l=D("Lap"),c=F(),u=b("td"),e=D("Target"),o=F(),v=b("td"),E=D("Half"),z=F(),C=b("td"),G=D("Full"),K=F(),L=b("td"),q=D("Total"),g=F();for(let _=0;_<k.length;_+=1)k[_].c();this.h()},l(_){t=p(_,"TABLE",{class:!0});var H=T(t);m&&m.l(H),s=B(H),r=p(H,"TR",{});var f=T(r);d=p(f,"TD",{class:!0});var O=T(d);l=w(O,"Lap"),O.forEach(i),c=B(f),u=p(f,"TD",{class:!0});var U=T(u);e=w(U,"Target"),U.forEach(i),o=B(f),v=p(f,"TD",{class:!0});var V=T(v);E=w(V,"Half"),V.forEach(i),z=B(f),C=p(f,"TD",{class:!0});var W=T(C);G=w(W,"Full"),W.forEach(i),K=B(f),L=p(f,"TD",{class:!0});var X=T(L);q=w(X,"Total"),X.forEach(i),f.forEach(i),g=B(H);for(let j=0;j<k.length;j+=1)k[j].l(H);H.forEach(i),this.h()},h(){y(d,"class","svelte-1b0trvz"),y(u,"class","svelte-1b0trvz"),y(v,"class","svelte-1b0trvz"),y(C,"class","svelte-1b0trvz"),y(L,"class","svelte-1b0trvz"),y(t,"class","timer-table svelte-1b0trvz")},m(_,H){I(_,t,H),m&&m.m(t,null),n(t,s),n(t,r),n(r,d),n(d,l),n(r,c),n(r,u),n(u,e),n(r,o),n(r,v),n(v,E),n(r,z),n(r,C),n(C,G),n(r,K),n(r,L),n(L,q),n(t,g);for(let f=0;f<k.length;f+=1)k[f].m(t,null);h||(M=[Y(t,"keypress",a[3]),Y(t,"click",a[3])],h=!0)},p(_,[H]){if(_[0]>0&&!_[1]?m||(m=$(),m.c(),m.m(t,s)):m&&(m.d(1),m=null),H&4){A=_[2];let f;for(f=0;f<A.length;f+=1){const O=N(_,A,f);k[f]?k[f].p(O,H):(k[f]=x(O),k[f].c(),k[f].m(t,null))}for(;f<k.length;f+=1)k[f].d(1);k.length=A.length}},i:Z,o:Z,d(_){_&&i(t),m&&m.d(),st(k,_),h=!1,rt(M)}}}function Q(a){typeof window<"u"&&(document.body.bgColor=a,document.querySelector('meta[name="theme-color"]').setAttribute("content",a))}function ft(a,t,s){let r;at(a,P,e=>s(2,r=e)),ot(()=>{Q("white"),P.update(e=>new Array)});const d=[{color:"Blue",from:-1/0,to:-301},{color:"LawnGreen",from:-300,to:-1},{color:"Orange",from:0,to:299},{color:"Red",from:300,to:1/0}];var l=0,c=!1;function u(){if(l==0){P.timeStart(),s(0,l++,l);return}if(r.length<l/2){Q("white"),s(1,c=!0);return}if(l%2==1)P.timeHalf((l-1)/2);else{var e=l/2-1;P.timeFull(e);var o=r.at(e),v=o.end-(e==0?o.start:r.at(e-1).end),E=v-o.target;for(const z of d)if(E>=z.from&&E<=z.to){o.color=z.color,Q(z.color);break}}s(0,l++,l)}return[l,c,r,u]}class ht extends tt{constructor(t){super(),et(this,t,ft,dt,lt,{})}}export{ht as default};
