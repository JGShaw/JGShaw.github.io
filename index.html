<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="images/icon192.png">
    <meta charset="UTF-8">
    <meta name="description" content="Velodrome lap timer">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#fff">
    <title>Lap timer</title>
  </head>
  <body>

    <h1>Persuit setup</h1>
    <form action="timer.html">
      <table class="setup-table">
        <tr>
          <td><label for="totalLaps">Total Laps:</label></td>
          <td>
            <button type="button" onclick="change('totalLaps', -1)">-</button>
            <input type="number" id="totalLaps" name="totalLaps" value="12" pattern="\d*">
            <button type="button" onclick="change('totalLaps', 1)">+</button>
          </td>
        </tr>
        <tr>
          <td><label for="targetFirst">Target first lap:</label> </td>
          <td>
            <button type="button" onclick="change('targetFirst', -1)">-</button>
            <input type="number" id="targetFirst" name="targetFirst" value="23" pattern="\d*">
            <button type="button" onclick="change('targetFirst', 1)">+</button>
          </td>
        </tr>
      </table>

      <br />

      <table class="setup-table">
        <tr>
          <td colspan="2" style=""><label>Target time</label></td>
        </tr>
        <tr>
          <td><label for="targetMinutes">Minutes</label></td>
          <td><label for="targetSeconds">Seconds</label></td>
        </tr>
        <tr>
          <td>
            <button type="button" onclick="change('targetMinutes', -1)">-</button>
            <input type="number" id="targetMinutes" name="targetMinutes" value="3" pattern="\d*">
            <button type="button" onclick="change('targetMinutes', 1)">+</button>
          </td>
          <td>
            <button type="button" onclick="change('targetSeconds', -1)">+</button>
            <input type="number" id="targetSeconds" name="targetSeconds" value="45" pattern="\d*">
            <button type="button" onclick="change('targetSeconds', 1)">+</button>
          </td>
        </tr>
      </table>

      <br />
      <input style="width: 100%;" type="submit" value="Start"/>
    </form>

      <script>
        function change(id, change) {
          field = document.getElementById(id)
          field.value = (Number(field.value) + change)
        }
      </script>

    <script>
      if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('service-worker.js')
      }
    </script>

  </body>
</html>
